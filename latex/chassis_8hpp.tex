\doxysection{include/chassis.hpp File Reference}
\hypertarget{chassis_8hpp}{}\label{chassis_8hpp}\index{include/chassis.hpp@{include/chassis.hpp}}


This class represents a basic chassis for a robot, providing methods for controlling its movement and tracking its position.  


{\ttfamily \#include $<$motor.\+hpp$>$}\newline
{\ttfamily \#include $<$motor\+\_\+group.\+hpp$>$}\newline
{\ttfamily \#include $<$odometry.\+hpp$>$}\newline
{\ttfamily \#include $<$path.\+hpp$>$}\newline
{\ttfamily \#include $<$pursuit.\+hpp$>$}\newline
{\ttfamily \#include $<$pid.\+hpp$>$}\newline
{\ttfamily \#include $<$cmath$>$}\newline
{\ttfamily \#include $<$math.\+h$>$}\newline
{\ttfamily \#include $<$algorithm$>$}\newline
{\ttfamily \#include $<$functional$>$}\newline
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{class_chassis}{Chassis}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{chassis_8hpp_ae71449b1cc6e6250b91f539153a7a0d3}\label{chassis_8hpp_ae71449b1cc6e6250b91f539153a7a0d3} 
\#define {\bfseries M\+\_\+\+PI}~3.\+14159265358979323846
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{chassis_8hpp_a664e4d2d7e78efa3bb7ed6ca930c830f}{wire\+\_\+control}} (void \texorpdfstring{$\ast$}{*}o)
\begin{DoxyCompactList}\small\item\em Control the robot using Drive-\/\+By-\/\+Wire. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{chassis_8hpp_a6f025504bf05f12a2da3c37acb3f80e0}{arcade\+\_\+control}} (void \texorpdfstring{$\ast$}{*}o)
\begin{DoxyCompactList}\small\item\em Control the robot using arcade control. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{chassis_8hpp_a63db230b358b2a6905dc6b34fb65fa13}{curvature\+\_\+control}} (void \texorpdfstring{$\ast$}{*}o)
\begin{DoxyCompactList}\small\item\em Control the robot using curvature control. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{chassis_8hpp_ad9caf2cb64525041224c92bb41485e41}{tank\+\_\+control}} (void \texorpdfstring{$\ast$}{*}o)
\begin{DoxyCompactList}\small\item\em Control the robot using tank control. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
This class represents a basic chassis for a robot, providing methods for controlling its movement and tracking its position. 

\begin{DoxyAuthor}{Author}
@ericssonl07 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
2025-\/04-\/19
\end{DoxyDate}
The \doxylink{class_chassis}{Chassis} class is designed to work with a set of motors, an inertial sensor, and a controller. It allows for precise control of the robot\textquotesingle{}s movement, including turning and following paths. The class also provides methods for resetting the robot\textquotesingle{}s position and stopping its movement. The constructor initializes the chassis with the specified parameters, including motor groups, tracking wheels, and odometry settings. The class uses a \doxylink{class_p_i_d}{PID} controller for turning and following paths, allowing for smooth and accurate movement. The class also includes methods for controlling the robot using different control schemes, such as arcade and tank control. The class is designed to be used in a VEX robotics environment, utilizing the VEX C++ API for motor control and sensor readings. The class is designed to be flexible and extensible, allowing for customization and adaptation to different robot designs and control strategies. Position tracking is achieved using odometry, which calculates the robot\textquotesingle{}s position based on the movement of its wheels and the readings from the inertial sensor. 

\doxysubsection{Function Documentation}
\Hypertarget{chassis_8hpp_a6f025504bf05f12a2da3c37acb3f80e0}\index{chassis.hpp@{chassis.hpp}!arcade\_control@{arcade\_control}}
\index{arcade\_control@{arcade\_control}!chassis.hpp@{chassis.hpp}}
\doxysubsubsection{\texorpdfstring{arcade\_control()}{arcade\_control()}}
{\footnotesize\ttfamily \label{chassis_8hpp_a6f025504bf05f12a2da3c37acb3f80e0} 
int arcade\+\_\+control (\begin{DoxyParamCaption}\item[{void \texorpdfstring{$\ast$}{*}}]{o}{}\end{DoxyParamCaption})}



Control the robot using arcade control. 

arcade\+\_\+control 
\begin{DoxyParams}{Parameters}
{\em o} & Pointer to the \doxylink{class_chassis}{Chassis} object\\
\hline
\end{DoxyParams}
The arcade\+\_\+control method allows the robot to be controlled using arcade control.

Left side joystick controls forward/backward movement, while the right side joystick controls turning. \begin{Desc}
\item[Examples]\par
\mbox{\hyperlink{_2_users_2ericssonlin_2_documents_2vex-vscode-projects_2_worlds_2include_2chassis_8hpp-example}{/\+Users/ericssonlin/\+Documents/vex-\/vscode-\/projects/\+Worlds/include/chassis.\+hpp}}.\end{Desc}
\Hypertarget{chassis_8hpp_a63db230b358b2a6905dc6b34fb65fa13}\index{chassis.hpp@{chassis.hpp}!curvature\_control@{curvature\_control}}
\index{curvature\_control@{curvature\_control}!chassis.hpp@{chassis.hpp}}
\doxysubsubsection{\texorpdfstring{curvature\_control()}{curvature\_control()}}
{\footnotesize\ttfamily \label{chassis_8hpp_a63db230b358b2a6905dc6b34fb65fa13} 
int curvature\+\_\+control (\begin{DoxyParamCaption}\item[{void \texorpdfstring{$\ast$}{*}}]{o}{}\end{DoxyParamCaption})}



Control the robot using curvature control. 

curvature\+\_\+control 
\begin{DoxyParams}{Parameters}
{\em o} & Pointer to the \doxylink{class_chassis}{Chassis} object\\
\hline
\end{DoxyParams}
The curvature\+\_\+control method allows the robot to be controlled using curvature control.

Left side joystick controls forward/backward movement, while the right side joystick controls turn curvature. This is similar to arcade control, but the turning response feels different. \begin{Desc}
\item[Examples]\par
\mbox{\hyperlink{_2_users_2ericssonlin_2_documents_2vex-vscode-projects_2_worlds_2include_2chassis_8hpp-example}{/\+Users/ericssonlin/\+Documents/vex-\/vscode-\/projects/\+Worlds/include/chassis.\+hpp}}.\end{Desc}
\Hypertarget{chassis_8hpp_ad9caf2cb64525041224c92bb41485e41}\index{chassis.hpp@{chassis.hpp}!tank\_control@{tank\_control}}
\index{tank\_control@{tank\_control}!chassis.hpp@{chassis.hpp}}
\doxysubsubsection{\texorpdfstring{tank\_control()}{tank\_control()}}
{\footnotesize\ttfamily \label{chassis_8hpp_ad9caf2cb64525041224c92bb41485e41} 
int tank\+\_\+control (\begin{DoxyParamCaption}\item[{void \texorpdfstring{$\ast$}{*}}]{o}{}\end{DoxyParamCaption})}



Control the robot using tank control. 

tank\+\_\+control 
\begin{DoxyParams}{Parameters}
{\em o} & Pointer to the \doxylink{class_chassis}{Chassis} object\\
\hline
\end{DoxyParams}
The tank\+\_\+control method allows the robot to be controlled using tank control.

Left side joystick controls left motor group, while the right side joystick controls right motor group.

This is the most difficult control scheme to use, as it requires the user to control both sides of the robot independently; however, when mastered, it is the most precise control scheme which grants the driver complete control over drifting and turning. \begin{Desc}
\item[Examples]\par
\mbox{\hyperlink{_2_users_2ericssonlin_2_documents_2vex-vscode-projects_2_worlds_2include_2chassis_8hpp-example}{/\+Users/ericssonlin/\+Documents/vex-\/vscode-\/projects/\+Worlds/include/chassis.\+hpp}}.\end{Desc}
\Hypertarget{chassis_8hpp_a664e4d2d7e78efa3bb7ed6ca930c830f}\index{chassis.hpp@{chassis.hpp}!wire\_control@{wire\_control}}
\index{wire\_control@{wire\_control}!chassis.hpp@{chassis.hpp}}
\doxysubsubsection{\texorpdfstring{wire\_control()}{wire\_control()}}
{\footnotesize\ttfamily \label{chassis_8hpp_a664e4d2d7e78efa3bb7ed6ca930c830f} 
int wire\+\_\+control (\begin{DoxyParamCaption}\item[{void \texorpdfstring{$\ast$}{*}}]{o}{}\end{DoxyParamCaption})}



Control the robot using Drive-\/\+By-\/\+Wire. 

wire\+\_\+control 
\begin{DoxyParams}{Parameters}
{\em o} & Pointer to the \doxylink{class_chassis}{Chassis} object\\
\hline
\end{DoxyParams}
The wire\+\_\+control method allows the robot to be controlled using a drive by wire program. This is useful for in-\/game control of the robot when chassis imbalance occurs, or when for any reason the robot needs to lock its heading.

Mechanical issues\+:
\begin{DoxyItemize}
\item Friction\+: if screw joints or kepts nuts are not properly tuned or they loosen during the game, there may be some drift bias. This is usually minimal in the friction case so DBW is usually not needed.
\item Overheating\+: if one side of the robot heats more than another (e.\+g., due to driver preference of drifting around the field or physical obstruction for heat dissipation), the robot may drift to one side. This is an intermediate bias.
\item \doxylink{class_motor}{Motor} disconnection or failure\+: if one side of the robot has a motor disconnection or failure, the robot may drift to one side. This is a major bias which will almost always warrant the use of DBW.
\end{DoxyItemize}

Heading lock\+:
\begin{DoxyItemize}
\item If the robot is guarding any kind of goal, DBW will make it difficult for the opponent to push the robot except sideways as the wire system will actively resist any movement it can (which is all movement except orthogonal to the robot\textquotesingle{}s heading).
\end{DoxyItemize}

\begin{DoxyNote}{Note}
Drive-\/\+By-\/\+Wire is a method of controlling the robot using a controller that imposes a controller in between the user and the actuator. This allows for more precise control of the robot\textquotesingle{}s movement and can help to mitigate the effects of bias.
\end{DoxyNote}
DBW is inspired by modern aircraft "{}\+Fly-\/\+By-\/\+Wire"{} systems, which use a computer to control the aircraft\textquotesingle{}s flight surfaces.

Internally, DBW maintains a target heading and uses a \doxylink{class_p_i_d}{PID} controller to adjust the robot\textquotesingle{}s movement based on the user\textquotesingle{}s input. The internal \doxylink{class_p_i_d}{PID} has parameters set so that it is always active and behaves like a traditional controller (no Clegg integration, integral limits, etc.) with a small change\+: since \doxylink{class_p_i_d}{PID} is a feedback controller, there is inevitably some lag in the response, so the robot will feel sluggish when turning. Thus, the \doxylink{class_p_i_d}{PID} also implements a small feedforward, "{}anticipative"{} term that is added to the turning output based on the user\textquotesingle{}s input which allows for more responsive control.

Drive-\/by-\/wire feels similar in response to a curvature drive (and not arcade drive). \begin{Desc}
\item[Examples]\par
\mbox{\hyperlink{_2_users_2ericssonlin_2_documents_2vex-vscode-projects_2_worlds_2include_2chassis_8hpp-example}{/\+Users/ericssonlin/\+Documents/vex-\/vscode-\/projects/\+Worlds/include/chassis.\+hpp}}.\end{Desc}
